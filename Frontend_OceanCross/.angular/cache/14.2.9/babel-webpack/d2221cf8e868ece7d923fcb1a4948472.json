{"ast":null,"code":"\"use strict\";\n\nconst path = require(\"path\");\n\nconst memfs = require(\"memfs\");\n/** @typedef {import(\"webpack\").MultiCompiler} MultiCompiler */\n\n/** @typedef {import(\"../index.js\").IncomingMessage} IncomingMessage */\n\n/** @typedef {import(\"../index.js\").ServerResponse} ServerResponse */\n\n/**\n * @template {IncomingMessage} Request\n * @template {ServerResponse} Response\n * @param {import(\"../index.js\").Context<Request, Response>} context\n */\n\n\nfunction setupOutputFileSystem(context) {\n  let outputFileSystem;\n\n  if (context.options.outputFileSystem) {\n    const {\n      outputFileSystem: outputFileSystemFromOptions\n    } = context.options; // Todo remove when we drop webpack@4 support\n\n    if (typeof outputFileSystemFromOptions.join !== \"function\") {\n      throw new Error(\"Invalid options: options.outputFileSystem.join() method is expected\");\n    } // Todo remove when we drop webpack@4 support\n    // @ts-ignore\n\n\n    if (typeof outputFileSystemFromOptions.mkdirp !== \"function\") {\n      throw new Error(\"Invalid options: options.outputFileSystem.mkdirp() method is expected\");\n    }\n\n    outputFileSystem = outputFileSystemFromOptions;\n  } else {\n    outputFileSystem = memfs.createFsFromVolume(new memfs.Volume()); // TODO: remove when we drop webpack@4 support\n    // @ts-ignore\n\n    outputFileSystem.join = path.join.bind(path);\n  }\n\n  const compilers =\n  /** @type {MultiCompiler} */\n  context.compiler.compilers || [context.compiler];\n\n  for (const compiler of compilers) {\n    compiler.outputFileSystem = outputFileSystem;\n  } // @ts-ignore\n  // eslint-disable-next-line no-param-reassign\n\n\n  context.outputFileSystem = outputFileSystem;\n}\n\nmodule.exports = setupOutputFileSystem;","map":{"version":3,"names":["path","require","memfs","setupOutputFileSystem","context","outputFileSystem","options","outputFileSystemFromOptions","join","Error","mkdirp","createFsFromVolume","Volume","bind","compilers","compiler","module","exports"],"sources":["/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/webpack-dev-middleware/dist/utils/setupOutputFileSystem.js"],"sourcesContent":["\"use strict\";\n\nconst path = require(\"path\");\n\nconst memfs = require(\"memfs\");\n/** @typedef {import(\"webpack\").MultiCompiler} MultiCompiler */\n\n/** @typedef {import(\"../index.js\").IncomingMessage} IncomingMessage */\n\n/** @typedef {import(\"../index.js\").ServerResponse} ServerResponse */\n\n/**\n * @template {IncomingMessage} Request\n * @template {ServerResponse} Response\n * @param {import(\"../index.js\").Context<Request, Response>} context\n */\n\n\nfunction setupOutputFileSystem(context) {\n  let outputFileSystem;\n\n  if (context.options.outputFileSystem) {\n    const {\n      outputFileSystem: outputFileSystemFromOptions\n    } = context.options; // Todo remove when we drop webpack@4 support\n\n    if (typeof outputFileSystemFromOptions.join !== \"function\") {\n      throw new Error(\"Invalid options: options.outputFileSystem.join() method is expected\");\n    } // Todo remove when we drop webpack@4 support\n    // @ts-ignore\n\n\n    if (typeof outputFileSystemFromOptions.mkdirp !== \"function\") {\n      throw new Error(\"Invalid options: options.outputFileSystem.mkdirp() method is expected\");\n    }\n\n    outputFileSystem = outputFileSystemFromOptions;\n  } else {\n    outputFileSystem = memfs.createFsFromVolume(new memfs.Volume()); // TODO: remove when we drop webpack@4 support\n    // @ts-ignore\n\n    outputFileSystem.join = path.join.bind(path);\n  }\n\n  const compilers =\n  /** @type {MultiCompiler} */\n  context.compiler.compilers || [context.compiler];\n\n  for (const compiler of compilers) {\n    compiler.outputFileSystem = outputFileSystem;\n  } // @ts-ignore\n  // eslint-disable-next-line no-param-reassign\n\n\n  context.outputFileSystem = outputFileSystem;\n}\n\nmodule.exports = setupOutputFileSystem;"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAEA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA,SAASE,qBAAT,CAA+BC,OAA/B,EAAwC;EACtC,IAAIC,gBAAJ;;EAEA,IAAID,OAAO,CAACE,OAAR,CAAgBD,gBAApB,EAAsC;IACpC,MAAM;MACJA,gBAAgB,EAAEE;IADd,IAEFH,OAAO,CAACE,OAFZ,CADoC,CAGf;;IAErB,IAAI,OAAOC,2BAA2B,CAACC,IAAnC,KAA4C,UAAhD,EAA4D;MAC1D,MAAM,IAAIC,KAAJ,CAAU,qEAAV,CAAN;IACD,CAPmC,CAOlC;IACF;;;IAGA,IAAI,OAAOF,2BAA2B,CAACG,MAAnC,KAA8C,UAAlD,EAA8D;MAC5D,MAAM,IAAID,KAAJ,CAAU,uEAAV,CAAN;IACD;;IAEDJ,gBAAgB,GAAGE,2BAAnB;EACD,CAhBD,MAgBO;IACLF,gBAAgB,GAAGH,KAAK,CAACS,kBAAN,CAAyB,IAAIT,KAAK,CAACU,MAAV,EAAzB,CAAnB,CADK,CAC4D;IACjE;;IAEAP,gBAAgB,CAACG,IAAjB,GAAwBR,IAAI,CAACQ,IAAL,CAAUK,IAAV,CAAeb,IAAf,CAAxB;EACD;;EAED,MAAMc,SAAS;EACf;EACAV,OAAO,CAACW,QAAR,CAAiBD,SAAjB,IAA8B,CAACV,OAAO,CAACW,QAAT,CAF9B;;EAIA,KAAK,MAAMA,QAAX,IAAuBD,SAAvB,EAAkC;IAChCC,QAAQ,CAACV,gBAAT,GAA4BA,gBAA5B;EACD,CAhCqC,CAgCpC;EACF;;;EAGAD,OAAO,CAACC,gBAAR,GAA2BA,gBAA3B;AACD;;AAEDW,MAAM,CAACC,OAAP,GAAiBd,qBAAjB"},"metadata":{},"sourceType":"script"}