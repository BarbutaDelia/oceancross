{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runWebpack = void 0;\n\nconst architect_1 = require(\"@angular-devkit/architect\");\n\nconst path_1 = require(\"path\");\n\nconst rxjs_1 = require(\"rxjs\");\n\nconst operators_1 = require(\"rxjs/operators\");\n\nconst webpack_1 = __importDefault(require(\"webpack\"));\n\nconst utils_1 = require(\"../utils\");\n\nfunction runWebpack(config, context, options = {}) {\n  const {\n    logging: log = (stats, config) => context.logger.info(stats.toString(config.stats)),\n    shouldProvideStats = true\n  } = options;\n\n  const createWebpack = c => {\n    if (options.webpackFactory) {\n      const result = options.webpackFactory(c);\n\n      if ((0, rxjs_1.isObservable)(result)) {\n        return result;\n      } else {\n        return (0, rxjs_1.of)(result);\n      }\n    } else {\n      return (0, rxjs_1.of)((0, webpack_1.default)(c));\n    }\n  };\n\n  return createWebpack({ ...config,\n    watch: false\n  }).pipe((0, operators_1.switchMap)(webpackCompiler => new rxjs_1.Observable(obs => {\n    const callback = (err, stats) => {\n      if (err) {\n        return obs.error(err);\n      }\n\n      if (!stats) {\n        return;\n      } // Log stats.\n\n\n      log(stats, config);\n      const statsOptions = typeof config.stats === 'boolean' ? undefined : config.stats;\n      const result = {\n        success: !stats.hasErrors(),\n        webpackStats: shouldProvideStats ? stats.toJson(statsOptions) : undefined,\n        emittedFiles: (0, utils_1.getEmittedFiles)(stats.compilation),\n        outputPath: stats.compilation.outputOptions.path\n      };\n\n      if (config.watch) {\n        obs.next(result);\n      } else {\n        webpackCompiler.close(() => {\n          obs.next(result);\n          obs.complete();\n        });\n      }\n    };\n\n    try {\n      if (config.watch) {\n        const watchOptions = config.watchOptions || {};\n        const watching = webpackCompiler.watch(watchOptions, callback); // Teardown logic. Close the watcher when unsubscribed from.\n\n        return () => {\n          watching.close(() => {});\n          webpackCompiler.close(() => {});\n        };\n      } else {\n        webpackCompiler.run(callback);\n      }\n    } catch (err) {\n      if (err) {\n        context.logger.error(`\\nAn error occurred during the build:\\n${err instanceof Error ? err.stack : err}`);\n      }\n\n      throw err;\n    }\n  })));\n}\n\nexports.runWebpack = runWebpack;\nexports.default = (0, architect_1.createBuilder)((options, context) => {\n  const configPath = (0, path_1.resolve)(context.workspaceRoot, options.webpackConfig);\n  return (0, rxjs_1.from)((0, utils_1.getWebpackConfig)(configPath)).pipe((0, operators_1.switchMap)(config => runWebpack(config, context)));\n});","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","runWebpack","architect_1","require","path_1","rxjs_1","operators_1","webpack_1","utils_1","config","context","options","logging","log","stats","logger","info","toString","shouldProvideStats","createWebpack","c","webpackFactory","result","isObservable","of","default","watch","pipe","switchMap","webpackCompiler","Observable","obs","callback","err","error","statsOptions","undefined","success","hasErrors","webpackStats","toJson","emittedFiles","getEmittedFiles","compilation","outputPath","outputOptions","path","next","close","complete","watchOptions","watching","run","Error","stack","createBuilder","configPath","resolve","workspaceRoot","webpackConfig","from","getWebpackConfig"],"sources":["/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@angular-devkit/build-webpack/src/webpack/index.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runWebpack = void 0;\nconst architect_1 = require(\"@angular-devkit/architect\");\nconst path_1 = require(\"path\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst webpack_1 = __importDefault(require(\"webpack\"));\nconst utils_1 = require(\"../utils\");\nfunction runWebpack(config, context, options = {}) {\n    const { logging: log = (stats, config) => context.logger.info(stats.toString(config.stats)), shouldProvideStats = true, } = options;\n    const createWebpack = (c) => {\n        if (options.webpackFactory) {\n            const result = options.webpackFactory(c);\n            if ((0, rxjs_1.isObservable)(result)) {\n                return result;\n            }\n            else {\n                return (0, rxjs_1.of)(result);\n            }\n        }\n        else {\n            return (0, rxjs_1.of)((0, webpack_1.default)(c));\n        }\n    };\n    return createWebpack({ ...config, watch: false }).pipe((0, operators_1.switchMap)((webpackCompiler) => new rxjs_1.Observable((obs) => {\n        const callback = (err, stats) => {\n            if (err) {\n                return obs.error(err);\n            }\n            if (!stats) {\n                return;\n            }\n            // Log stats.\n            log(stats, config);\n            const statsOptions = typeof config.stats === 'boolean' ? undefined : config.stats;\n            const result = {\n                success: !stats.hasErrors(),\n                webpackStats: shouldProvideStats ? stats.toJson(statsOptions) : undefined,\n                emittedFiles: (0, utils_1.getEmittedFiles)(stats.compilation),\n                outputPath: stats.compilation.outputOptions.path,\n            };\n            if (config.watch) {\n                obs.next(result);\n            }\n            else {\n                webpackCompiler.close(() => {\n                    obs.next(result);\n                    obs.complete();\n                });\n            }\n        };\n        try {\n            if (config.watch) {\n                const watchOptions = config.watchOptions || {};\n                const watching = webpackCompiler.watch(watchOptions, callback);\n                // Teardown logic. Close the watcher when unsubscribed from.\n                return () => {\n                    watching.close(() => { });\n                    webpackCompiler.close(() => { });\n                };\n            }\n            else {\n                webpackCompiler.run(callback);\n            }\n        }\n        catch (err) {\n            if (err) {\n                context.logger.error(`\\nAn error occurred during the build:\\n${err instanceof Error ? err.stack : err}`);\n            }\n            throw err;\n        }\n    })));\n}\nexports.runWebpack = runWebpack;\nexports.default = (0, architect_1.createBuilder)((options, context) => {\n    const configPath = (0, path_1.resolve)(context.workspaceRoot, options.webpackConfig);\n    return (0, rxjs_1.from)((0, utils_1.getWebpackConfig)(configPath)).pipe((0, operators_1.switchMap)((config) => runWebpack(config, context)));\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;IAAE,WAAWA;EAAb,CAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqB,KAAK,CAA1B;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,2BAAD,CAA3B;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,MAAD,CAAtB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,MAAD,CAAtB;;AACA,MAAMG,WAAW,GAAGH,OAAO,CAAC,gBAAD,CAA3B;;AACA,MAAMI,SAAS,GAAGb,eAAe,CAACS,OAAO,CAAC,SAAD,CAAR,CAAjC;;AACA,MAAMK,OAAO,GAAGL,OAAO,CAAC,UAAD,CAAvB;;AACA,SAASF,UAAT,CAAoBQ,MAApB,EAA4BC,OAA5B,EAAqCC,OAAO,GAAG,EAA/C,EAAmD;EAC/C,MAAM;IAAEC,OAAO,EAAEC,GAAG,GAAG,CAACC,KAAD,EAAQL,MAAR,KAAmBC,OAAO,CAACK,MAAR,CAAeC,IAAf,CAAoBF,KAAK,CAACG,QAAN,CAAeR,MAAM,CAACK,KAAtB,CAApB,CAApC;IAAuFI,kBAAkB,GAAG;EAA5G,IAAsHP,OAA5H;;EACA,MAAMQ,aAAa,GAAIC,CAAD,IAAO;IACzB,IAAIT,OAAO,CAACU,cAAZ,EAA4B;MACxB,MAAMC,MAAM,GAAGX,OAAO,CAACU,cAAR,CAAuBD,CAAvB,CAAf;;MACA,IAAI,CAAC,GAAGf,MAAM,CAACkB,YAAX,EAAyBD,MAAzB,CAAJ,EAAsC;QAClC,OAAOA,MAAP;MACH,CAFD,MAGK;QACD,OAAO,CAAC,GAAGjB,MAAM,CAACmB,EAAX,EAAeF,MAAf,CAAP;MACH;IACJ,CARD,MASK;MACD,OAAO,CAAC,GAAGjB,MAAM,CAACmB,EAAX,EAAe,CAAC,GAAGjB,SAAS,CAACkB,OAAd,EAAuBL,CAAvB,CAAf,CAAP;IACH;EACJ,CAbD;;EAcA,OAAOD,aAAa,CAAC,EAAE,GAAGV,MAAL;IAAaiB,KAAK,EAAE;EAApB,CAAD,CAAb,CAA2CC,IAA3C,CAAgD,CAAC,GAAGrB,WAAW,CAACsB,SAAhB,EAA4BC,eAAD,IAAqB,IAAIxB,MAAM,CAACyB,UAAX,CAAuBC,GAAD,IAAS;IAClI,MAAMC,QAAQ,GAAG,CAACC,GAAD,EAAMnB,KAAN,KAAgB;MAC7B,IAAImB,GAAJ,EAAS;QACL,OAAOF,GAAG,CAACG,KAAJ,CAAUD,GAAV,CAAP;MACH;;MACD,IAAI,CAACnB,KAAL,EAAY;QACR;MACH,CAN4B,CAO7B;;;MACAD,GAAG,CAACC,KAAD,EAAQL,MAAR,CAAH;MACA,MAAM0B,YAAY,GAAG,OAAO1B,MAAM,CAACK,KAAd,KAAwB,SAAxB,GAAoCsB,SAApC,GAAgD3B,MAAM,CAACK,KAA5E;MACA,MAAMQ,MAAM,GAAG;QACXe,OAAO,EAAE,CAACvB,KAAK,CAACwB,SAAN,EADC;QAEXC,YAAY,EAAErB,kBAAkB,GAAGJ,KAAK,CAAC0B,MAAN,CAAaL,YAAb,CAAH,GAAgCC,SAFrD;QAGXK,YAAY,EAAE,CAAC,GAAGjC,OAAO,CAACkC,eAAZ,EAA6B5B,KAAK,CAAC6B,WAAnC,CAHH;QAIXC,UAAU,EAAE9B,KAAK,CAAC6B,WAAN,CAAkBE,aAAlB,CAAgCC;MAJjC,CAAf;;MAMA,IAAIrC,MAAM,CAACiB,KAAX,EAAkB;QACdK,GAAG,CAACgB,IAAJ,CAASzB,MAAT;MACH,CAFD,MAGK;QACDO,eAAe,CAACmB,KAAhB,CAAsB,MAAM;UACxBjB,GAAG,CAACgB,IAAJ,CAASzB,MAAT;UACAS,GAAG,CAACkB,QAAJ;QACH,CAHD;MAIH;IACJ,CAzBD;;IA0BA,IAAI;MACA,IAAIxC,MAAM,CAACiB,KAAX,EAAkB;QACd,MAAMwB,YAAY,GAAGzC,MAAM,CAACyC,YAAP,IAAuB,EAA5C;QACA,MAAMC,QAAQ,GAAGtB,eAAe,CAACH,KAAhB,CAAsBwB,YAAtB,EAAoClB,QAApC,CAAjB,CAFc,CAGd;;QACA,OAAO,MAAM;UACTmB,QAAQ,CAACH,KAAT,CAAe,MAAM,CAAG,CAAxB;UACAnB,eAAe,CAACmB,KAAhB,CAAsB,MAAM,CAAG,CAA/B;QACH,CAHD;MAIH,CARD,MASK;QACDnB,eAAe,CAACuB,GAAhB,CAAoBpB,QAApB;MACH;IACJ,CAbD,CAcA,OAAOC,GAAP,EAAY;MACR,IAAIA,GAAJ,EAAS;QACLvB,OAAO,CAACK,MAAR,CAAemB,KAAf,CAAsB,0CAAyCD,GAAG,YAAYoB,KAAf,GAAuBpB,GAAG,CAACqB,KAA3B,GAAmCrB,GAAI,EAAtG;MACH;;MACD,MAAMA,GAAN;IACH;EACJ,CA/CsG,CAAhD,CAAhD,CAAP;AAgDH;;AACDlC,OAAO,CAACE,UAAR,GAAqBA,UAArB;AACAF,OAAO,CAAC0B,OAAR,GAAkB,CAAC,GAAGvB,WAAW,CAACqD,aAAhB,EAA+B,CAAC5C,OAAD,EAAUD,OAAV,KAAsB;EACnE,MAAM8C,UAAU,GAAG,CAAC,GAAGpD,MAAM,CAACqD,OAAX,EAAoB/C,OAAO,CAACgD,aAA5B,EAA2C/C,OAAO,CAACgD,aAAnD,CAAnB;EACA,OAAO,CAAC,GAAGtD,MAAM,CAACuD,IAAX,EAAiB,CAAC,GAAGpD,OAAO,CAACqD,gBAAZ,EAA8BL,UAA9B,CAAjB,EAA4D7B,IAA5D,CAAiE,CAAC,GAAGrB,WAAW,CAACsB,SAAhB,EAA4BnB,MAAD,IAAYR,UAAU,CAACQ,MAAD,EAASC,OAAT,CAAjD,CAAjE,CAAP;AACH,CAHiB,CAAlB"},"metadata":{},"sourceType":"script"}