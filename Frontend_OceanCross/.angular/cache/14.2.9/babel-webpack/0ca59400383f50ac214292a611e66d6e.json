{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nvar _asyncToGenerator = require(\"/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndexHtmlWebpackPlugin = void 0;\n\nconst path_1 = require(\"path\");\n\nconst webpack_1 = require(\"webpack\");\n\nconst error_1 = require(\"../../utils/error\");\n\nconst index_html_generator_1 = require(\"../../utils/index-file/index-html-generator\");\n\nconst webpack_diagnostics_1 = require(\"../../utils/webpack-diagnostics\");\n\nconst PLUGIN_NAME = 'index-html-webpack-plugin';\n\nclass IndexHtmlWebpackPlugin extends index_html_generator_1.IndexHtmlGenerator {\n  constructor(options) {\n    super(options);\n    this.options = options;\n  }\n\n  get compilation() {\n    if (this._compilation) {\n      return this._compilation;\n    }\n\n    throw new Error('compilation is undefined.');\n  }\n\n  apply(compiler) {\n    var _this = this;\n\n    compiler.hooks.thisCompilation.tap(PLUGIN_NAME, compilation => {\n      this._compilation = compilation;\n      compilation.hooks.processAssets.tapPromise({\n        name: PLUGIN_NAME,\n        stage: webpack_1.Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE + 1\n      }, callback);\n    });\n\n    const callback = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (assets) {\n        const files = [];\n\n        try {\n          for (const chunk of _this.compilation.chunks) {\n            for (const file of chunk.files) {\n              if (file.endsWith('.hot-update.js')) {\n                continue;\n              }\n\n              files.push({\n                name: chunk.name,\n                file,\n                extension: (0, path_1.extname)(file)\n              });\n            }\n          }\n\n          const {\n            content,\n            warnings,\n            errors\n          } = yield _this.process({\n            files,\n            outputPath: (0, path_1.dirname)(_this.options.outputPath),\n            baseHref: _this.options.baseHref,\n            lang: _this.options.lang\n          });\n          assets[_this.options.outputPath] = new webpack_1.sources.RawSource(content);\n          warnings.forEach(msg => (0, webpack_diagnostics_1.addWarning)(_this.compilation, msg));\n          errors.forEach(msg => (0, webpack_diagnostics_1.addError)(_this.compilation, msg));\n        } catch (error) {\n          (0, error_1.assertIsError)(error);\n          (0, webpack_diagnostics_1.addError)(_this.compilation, error.message);\n        }\n      });\n\n      return function callback(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  readAsset(path) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const data = _this2.compilation.assets[(0, path_1.basename)(path)].source();\n\n      return typeof data === 'string' ? data : data.toString();\n    })();\n  }\n\n  readIndex(path) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      return new Promise((resolve, reject) => {\n        _this3.compilation.inputFileSystem.readFile(path, (err, data) => {\n          var _a;\n\n          if (err) {\n            reject(err);\n            return;\n          }\n\n          _this3.compilation.fileDependencies.add(path);\n\n          resolve((_a = data === null || data === void 0 ? void 0 : data.toString()) !== null && _a !== void 0 ? _a : '');\n        });\n      });\n    })();\n  }\n\n}\n\nexports.IndexHtmlWebpackPlugin = IndexHtmlWebpackPlugin;","map":{"version":3,"names":["Object","defineProperty","exports","value","IndexHtmlWebpackPlugin","path_1","require","webpack_1","error_1","index_html_generator_1","webpack_diagnostics_1","PLUGIN_NAME","IndexHtmlGenerator","constructor","options","compilation","_compilation","Error","apply","compiler","hooks","thisCompilation","tap","processAssets","tapPromise","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE","callback","assets","files","chunk","chunks","file","endsWith","push","extension","extname","content","warnings","errors","process","outputPath","dirname","baseHref","lang","sources","RawSource","forEach","msg","addWarning","addError","error","assertIsError","message","readAsset","path","data","basename","source","toString","readIndex","Promise","resolve","reject","inputFileSystem","readFile","err","_a","fileDependencies","add"],"sources":["/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@angular-devkit/build-angular/src/webpack/plugins/index-html-webpack-plugin.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IndexHtmlWebpackPlugin = void 0;\nconst path_1 = require(\"path\");\nconst webpack_1 = require(\"webpack\");\nconst error_1 = require(\"../../utils/error\");\nconst index_html_generator_1 = require(\"../../utils/index-file/index-html-generator\");\nconst webpack_diagnostics_1 = require(\"../../utils/webpack-diagnostics\");\nconst PLUGIN_NAME = 'index-html-webpack-plugin';\nclass IndexHtmlWebpackPlugin extends index_html_generator_1.IndexHtmlGenerator {\n    constructor(options) {\n        super(options);\n        this.options = options;\n    }\n    get compilation() {\n        if (this._compilation) {\n            return this._compilation;\n        }\n        throw new Error('compilation is undefined.');\n    }\n    apply(compiler) {\n        compiler.hooks.thisCompilation.tap(PLUGIN_NAME, (compilation) => {\n            this._compilation = compilation;\n            compilation.hooks.processAssets.tapPromise({\n                name: PLUGIN_NAME,\n                stage: webpack_1.Compilation.PROCESS_ASSETS_STAGE_OPTIMIZE + 1,\n            }, callback);\n        });\n        const callback = async (assets) => {\n            const files = [];\n            try {\n                for (const chunk of this.compilation.chunks) {\n                    for (const file of chunk.files) {\n                        if (file.endsWith('.hot-update.js')) {\n                            continue;\n                        }\n                        files.push({\n                            name: chunk.name,\n                            file,\n                            extension: (0, path_1.extname)(file),\n                        });\n                    }\n                }\n                const { content, warnings, errors } = await this.process({\n                    files,\n                    outputPath: (0, path_1.dirname)(this.options.outputPath),\n                    baseHref: this.options.baseHref,\n                    lang: this.options.lang,\n                });\n                assets[this.options.outputPath] = new webpack_1.sources.RawSource(content);\n                warnings.forEach((msg) => (0, webpack_diagnostics_1.addWarning)(this.compilation, msg));\n                errors.forEach((msg) => (0, webpack_diagnostics_1.addError)(this.compilation, msg));\n            }\n            catch (error) {\n                (0, error_1.assertIsError)(error);\n                (0, webpack_diagnostics_1.addError)(this.compilation, error.message);\n            }\n        };\n    }\n    async readAsset(path) {\n        const data = this.compilation.assets[(0, path_1.basename)(path)].source();\n        return typeof data === 'string' ? data : data.toString();\n    }\n    async readIndex(path) {\n        return new Promise((resolve, reject) => {\n            this.compilation.inputFileSystem.readFile(path, (err, data) => {\n                var _a;\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                this.compilation.fileDependencies.add(path);\n                resolve((_a = data === null || data === void 0 ? void 0 : data.toString()) !== null && _a !== void 0 ? _a : '');\n            });\n        });\n    }\n}\nexports.IndexHtmlWebpackPlugin = IndexHtmlWebpackPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}