{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkThresholds = exports.checkBudgets = exports.calculateThresholds = exports.ThresholdSeverity = void 0;\n\nconst schema_1 = require(\"../builders/browser/schema\");\n\nconst stats_1 = require(\"../webpack/utils/stats\");\n\nvar ThresholdType;\n\n(function (ThresholdType) {\n  ThresholdType[\"Max\"] = \"maximum\";\n  ThresholdType[\"Min\"] = \"minimum\";\n})(ThresholdType || (ThresholdType = {}));\n\nvar ThresholdSeverity;\n\n(function (ThresholdSeverity) {\n  ThresholdSeverity[\"Warning\"] = \"warning\";\n  ThresholdSeverity[\"Error\"] = \"error\";\n})(ThresholdSeverity = exports.ThresholdSeverity || (exports.ThresholdSeverity = {}));\n\nfunction* calculateThresholds(budget) {\n  if (budget.maximumWarning) {\n    yield {\n      limit: calculateBytes(budget.maximumWarning, budget.baseline, 1),\n      type: ThresholdType.Max,\n      severity: ThresholdSeverity.Warning\n    };\n  }\n\n  if (budget.maximumError) {\n    yield {\n      limit: calculateBytes(budget.maximumError, budget.baseline, 1),\n      type: ThresholdType.Max,\n      severity: ThresholdSeverity.Error\n    };\n  }\n\n  if (budget.minimumWarning) {\n    yield {\n      limit: calculateBytes(budget.minimumWarning, budget.baseline, -1),\n      type: ThresholdType.Min,\n      severity: ThresholdSeverity.Warning\n    };\n  }\n\n  if (budget.minimumError) {\n    yield {\n      limit: calculateBytes(budget.minimumError, budget.baseline, -1),\n      type: ThresholdType.Min,\n      severity: ThresholdSeverity.Error\n    };\n  }\n\n  if (budget.warning) {\n    yield {\n      limit: calculateBytes(budget.warning, budget.baseline, -1),\n      type: ThresholdType.Min,\n      severity: ThresholdSeverity.Warning\n    };\n    yield {\n      limit: calculateBytes(budget.warning, budget.baseline, 1),\n      type: ThresholdType.Max,\n      severity: ThresholdSeverity.Warning\n    };\n  }\n\n  if (budget.error) {\n    yield {\n      limit: calculateBytes(budget.error, budget.baseline, -1),\n      type: ThresholdType.Min,\n      severity: ThresholdSeverity.Error\n    };\n    yield {\n      limit: calculateBytes(budget.error, budget.baseline, 1),\n      type: ThresholdType.Max,\n      severity: ThresholdSeverity.Error\n    };\n  }\n}\n\nexports.calculateThresholds = calculateThresholds;\n/**\n * Calculates the sizes for bundles in the budget type provided.\n */\n\nfunction calculateSizes(budget, stats) {\n  if (budget.type === schema_1.Type.AnyComponentStyle) {\n    // Component style size information is not available post-build, this must\n    // be checked mid-build via the `AnyComponentStyleBudgetChecker` plugin.\n    throw new Error('Can not calculate size of AnyComponentStyle. Use `AnyComponentStyleBudgetChecker` instead.');\n  }\n\n  const calculatorMap = {\n    all: AllCalculator,\n    allScript: AllScriptCalculator,\n    any: AnyCalculator,\n    anyScript: AnyScriptCalculator,\n    bundle: BundleCalculator,\n    initial: InitialCalculator\n  };\n  const ctor = calculatorMap[budget.type];\n  const {\n    chunks,\n    assets\n  } = stats;\n\n  if (!chunks) {\n    throw new Error('Webpack stats output did not include chunk information.');\n  }\n\n  if (!assets) {\n    throw new Error('Webpack stats output did not include asset information.');\n  }\n\n  const calculator = new ctor(budget, chunks, assets);\n  return calculator.calculate();\n}\n\nclass Calculator {\n  constructor(budget, chunks, assets) {\n    this.budget = budget;\n    this.chunks = chunks;\n    this.assets = assets;\n  }\n  /** Calculates the size of the given chunk for the provided build type. */\n\n\n  calculateChunkSize(chunk) {\n    // No differential builds, get the chunk size by summing its assets.\n    if (!chunk.files) {\n      return 0;\n    }\n\n    return chunk.files.filter(file => !file.endsWith('.map')).map(file => {\n      const asset = this.assets.find(asset => asset.name === file);\n\n      if (!asset) {\n        throw new Error(`Could not find asset for file: ${file}`);\n      }\n\n      return asset.size;\n    }).reduce((l, r) => l + r, 0);\n  }\n\n  getAssetSize(asset) {\n    return asset.size;\n  }\n\n}\n/**\n * A named bundle.\n */\n\n\nclass BundleCalculator extends Calculator {\n  calculate() {\n    const budgetName = this.budget.name;\n\n    if (!budgetName) {\n      return [];\n    }\n\n    const size = this.chunks.filter(chunk => {\n      var _a;\n\n      return (_a = chunk === null || chunk === void 0 ? void 0 : chunk.names) === null || _a === void 0 ? void 0 : _a.includes(budgetName);\n    }).map(chunk => this.calculateChunkSize(chunk)).reduce((l, r) => l + r, 0);\n    return [{\n      size,\n      label: this.budget.name\n    }];\n  }\n\n}\n/**\n * The sum of all initial chunks (marked as initial).\n */\n\n\nclass InitialCalculator extends Calculator {\n  calculate() {\n    return [{\n      label: `bundle initial`,\n      size: this.chunks.filter(chunk => chunk.initial).map(chunk => this.calculateChunkSize(chunk)).reduce((l, r) => l + r, 0)\n    }];\n  }\n\n}\n/**\n * The sum of all the scripts portions.\n */\n\n\nclass AllScriptCalculator extends Calculator {\n  calculate() {\n    const size = this.assets.filter(asset => asset.name.endsWith('.js')).map(asset => this.getAssetSize(asset)).reduce((total, size) => total + size, 0);\n    return [{\n      size,\n      label: 'total scripts'\n    }];\n  }\n\n}\n/**\n * All scripts and assets added together.\n */\n\n\nclass AllCalculator extends Calculator {\n  calculate() {\n    const size = this.assets.filter(asset => !asset.name.endsWith('.map')).map(asset => this.getAssetSize(asset)).reduce((total, size) => total + size, 0);\n    return [{\n      size,\n      label: 'total'\n    }];\n  }\n\n}\n/**\n * Any script, individually.\n */\n\n\nclass AnyScriptCalculator extends Calculator {\n  calculate() {\n    return this.assets.filter(asset => asset.name.endsWith('.js')).map(asset => ({\n      size: this.getAssetSize(asset),\n      label: asset.name\n    }));\n  }\n\n}\n/**\n * Any script or asset (images, css, etc).\n */\n\n\nclass AnyCalculator extends Calculator {\n  calculate() {\n    return this.assets.filter(asset => !asset.name.endsWith('.map')).map(asset => ({\n      size: this.getAssetSize(asset),\n      label: asset.name\n    }));\n  }\n\n}\n/**\n * Calculate the bytes given a string value.\n */\n\n\nfunction calculateBytes(input, baseline, factor = 1) {\n  const matches = input.match(/^\\s*(\\d+(?:\\.\\d+)?)\\s*(%|(?:[mM]|[kK]|[gG])?[bB])?\\s*$/);\n\n  if (!matches) {\n    return NaN;\n  }\n\n  const baselineBytes = baseline && calculateBytes(baseline) || 0;\n  let value = Number(matches[1]);\n\n  switch (matches[2] && matches[2].toLowerCase()) {\n    case '%':\n      value = baselineBytes * value / 100;\n      break;\n\n    case 'kb':\n      value *= 1024;\n      break;\n\n    case 'mb':\n      value *= 1024 * 1024;\n      break;\n\n    case 'gb':\n      value *= 1024 * 1024 * 1024;\n      break;\n  }\n\n  if (baselineBytes === 0) {\n    return value;\n  }\n\n  return baselineBytes + value * factor;\n}\n\nfunction* checkBudgets(budgets, webpackStats) {\n  // Ignore AnyComponentStyle budgets as these are handled in `AnyComponentStyleBudgetChecker`.\n  const computableBudgets = budgets.filter(budget => budget.type !== schema_1.Type.AnyComponentStyle);\n\n  for (const budget of computableBudgets) {\n    const sizes = calculateSizes(budget, webpackStats);\n\n    for (const {\n      size,\n      label\n    } of sizes) {\n      yield* checkThresholds(calculateThresholds(budget), size, label);\n    }\n  }\n}\n\nexports.checkBudgets = checkBudgets;\n\nfunction* checkThresholds(thresholds, size, label) {\n  for (const threshold of thresholds) {\n    switch (threshold.type) {\n      case ThresholdType.Max:\n        {\n          if (size <= threshold.limit) {\n            continue;\n          }\n\n          const sizeDifference = (0, stats_1.formatSize)(size - threshold.limit);\n          yield {\n            severity: threshold.severity,\n            label,\n            message: `${label} exceeded maximum budget. Budget ${(0, stats_1.formatSize)(threshold.limit)} was not met by ${sizeDifference} with a total of ${(0, stats_1.formatSize)(size)}.`\n          };\n          break;\n        }\n\n      case ThresholdType.Min:\n        {\n          if (size >= threshold.limit) {\n            continue;\n          }\n\n          const sizeDifference = (0, stats_1.formatSize)(threshold.limit - size);\n          yield {\n            severity: threshold.severity,\n            label,\n            message: `${label} failed to meet minimum budget. Budget ${(0, stats_1.formatSize)(threshold.limit)} was not met by ${sizeDifference} with a total of ${(0, stats_1.formatSize)(size)}.`\n          };\n          break;\n        }\n\n      default:\n        {\n          throw new Error(`Unexpected threshold type: ${ThresholdType[threshold.type]}`);\n        }\n    }\n  }\n}\n\nexports.checkThresholds = checkThresholds;","map":{"version":3,"names":["Object","defineProperty","exports","value","checkThresholds","checkBudgets","calculateThresholds","ThresholdSeverity","schema_1","require","stats_1","ThresholdType","budget","maximumWarning","limit","calculateBytes","baseline","type","Max","severity","Warning","maximumError","Error","minimumWarning","Min","minimumError","warning","error","calculateSizes","stats","Type","AnyComponentStyle","calculatorMap","all","AllCalculator","allScript","AllScriptCalculator","any","AnyCalculator","anyScript","AnyScriptCalculator","bundle","BundleCalculator","initial","InitialCalculator","ctor","chunks","assets","calculator","calculate","Calculator","constructor","calculateChunkSize","chunk","files","filter","file","endsWith","map","asset","find","name","size","reduce","l","r","getAssetSize","budgetName","_a","names","includes","label","total","input","factor","matches","match","NaN","baselineBytes","Number","toLowerCase","budgets","webpackStats","computableBudgets","sizes","thresholds","threshold","sizeDifference","formatSize","message"],"sources":["/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@angular-devkit/build-angular/src/utils/bundle-calculator.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkThresholds = exports.checkBudgets = exports.calculateThresholds = exports.ThresholdSeverity = void 0;\nconst schema_1 = require(\"../builders/browser/schema\");\nconst stats_1 = require(\"../webpack/utils/stats\");\nvar ThresholdType;\n(function (ThresholdType) {\n    ThresholdType[\"Max\"] = \"maximum\";\n    ThresholdType[\"Min\"] = \"minimum\";\n})(ThresholdType || (ThresholdType = {}));\nvar ThresholdSeverity;\n(function (ThresholdSeverity) {\n    ThresholdSeverity[\"Warning\"] = \"warning\";\n    ThresholdSeverity[\"Error\"] = \"error\";\n})(ThresholdSeverity = exports.ThresholdSeverity || (exports.ThresholdSeverity = {}));\nfunction* calculateThresholds(budget) {\n    if (budget.maximumWarning) {\n        yield {\n            limit: calculateBytes(budget.maximumWarning, budget.baseline, 1),\n            type: ThresholdType.Max,\n            severity: ThresholdSeverity.Warning,\n        };\n    }\n    if (budget.maximumError) {\n        yield {\n            limit: calculateBytes(budget.maximumError, budget.baseline, 1),\n            type: ThresholdType.Max,\n            severity: ThresholdSeverity.Error,\n        };\n    }\n    if (budget.minimumWarning) {\n        yield {\n            limit: calculateBytes(budget.minimumWarning, budget.baseline, -1),\n            type: ThresholdType.Min,\n            severity: ThresholdSeverity.Warning,\n        };\n    }\n    if (budget.minimumError) {\n        yield {\n            limit: calculateBytes(budget.minimumError, budget.baseline, -1),\n            type: ThresholdType.Min,\n            severity: ThresholdSeverity.Error,\n        };\n    }\n    if (budget.warning) {\n        yield {\n            limit: calculateBytes(budget.warning, budget.baseline, -1),\n            type: ThresholdType.Min,\n            severity: ThresholdSeverity.Warning,\n        };\n        yield {\n            limit: calculateBytes(budget.warning, budget.baseline, 1),\n            type: ThresholdType.Max,\n            severity: ThresholdSeverity.Warning,\n        };\n    }\n    if (budget.error) {\n        yield {\n            limit: calculateBytes(budget.error, budget.baseline, -1),\n            type: ThresholdType.Min,\n            severity: ThresholdSeverity.Error,\n        };\n        yield {\n            limit: calculateBytes(budget.error, budget.baseline, 1),\n            type: ThresholdType.Max,\n            severity: ThresholdSeverity.Error,\n        };\n    }\n}\nexports.calculateThresholds = calculateThresholds;\n/**\n * Calculates the sizes for bundles in the budget type provided.\n */\nfunction calculateSizes(budget, stats) {\n    if (budget.type === schema_1.Type.AnyComponentStyle) {\n        // Component style size information is not available post-build, this must\n        // be checked mid-build via the `AnyComponentStyleBudgetChecker` plugin.\n        throw new Error('Can not calculate size of AnyComponentStyle. Use `AnyComponentStyleBudgetChecker` instead.');\n    }\n    const calculatorMap = {\n        all: AllCalculator,\n        allScript: AllScriptCalculator,\n        any: AnyCalculator,\n        anyScript: AnyScriptCalculator,\n        bundle: BundleCalculator,\n        initial: InitialCalculator,\n    };\n    const ctor = calculatorMap[budget.type];\n    const { chunks, assets } = stats;\n    if (!chunks) {\n        throw new Error('Webpack stats output did not include chunk information.');\n    }\n    if (!assets) {\n        throw new Error('Webpack stats output did not include asset information.');\n    }\n    const calculator = new ctor(budget, chunks, assets);\n    return calculator.calculate();\n}\nclass Calculator {\n    constructor(budget, chunks, assets) {\n        this.budget = budget;\n        this.chunks = chunks;\n        this.assets = assets;\n    }\n    /** Calculates the size of the given chunk for the provided build type. */\n    calculateChunkSize(chunk) {\n        // No differential builds, get the chunk size by summing its assets.\n        if (!chunk.files) {\n            return 0;\n        }\n        return chunk.files\n            .filter((file) => !file.endsWith('.map'))\n            .map((file) => {\n            const asset = this.assets.find((asset) => asset.name === file);\n            if (!asset) {\n                throw new Error(`Could not find asset for file: ${file}`);\n            }\n            return asset.size;\n        })\n            .reduce((l, r) => l + r, 0);\n    }\n    getAssetSize(asset) {\n        return asset.size;\n    }\n}\n/**\n * A named bundle.\n */\nclass BundleCalculator extends Calculator {\n    calculate() {\n        const budgetName = this.budget.name;\n        if (!budgetName) {\n            return [];\n        }\n        const size = this.chunks\n            .filter((chunk) => { var _a; return (_a = chunk === null || chunk === void 0 ? void 0 : chunk.names) === null || _a === void 0 ? void 0 : _a.includes(budgetName); })\n            .map((chunk) => this.calculateChunkSize(chunk))\n            .reduce((l, r) => l + r, 0);\n        return [{ size, label: this.budget.name }];\n    }\n}\n/**\n * The sum of all initial chunks (marked as initial).\n */\nclass InitialCalculator extends Calculator {\n    calculate() {\n        return [\n            {\n                label: `bundle initial`,\n                size: this.chunks\n                    .filter((chunk) => chunk.initial)\n                    .map((chunk) => this.calculateChunkSize(chunk))\n                    .reduce((l, r) => l + r, 0),\n            },\n        ];\n    }\n}\n/**\n * The sum of all the scripts portions.\n */\nclass AllScriptCalculator extends Calculator {\n    calculate() {\n        const size = this.assets\n            .filter((asset) => asset.name.endsWith('.js'))\n            .map((asset) => this.getAssetSize(asset))\n            .reduce((total, size) => total + size, 0);\n        return [{ size, label: 'total scripts' }];\n    }\n}\n/**\n * All scripts and assets added together.\n */\nclass AllCalculator extends Calculator {\n    calculate() {\n        const size = this.assets\n            .filter((asset) => !asset.name.endsWith('.map'))\n            .map((asset) => this.getAssetSize(asset))\n            .reduce((total, size) => total + size, 0);\n        return [{ size, label: 'total' }];\n    }\n}\n/**\n * Any script, individually.\n */\nclass AnyScriptCalculator extends Calculator {\n    calculate() {\n        return this.assets\n            .filter((asset) => asset.name.endsWith('.js'))\n            .map((asset) => ({\n            size: this.getAssetSize(asset),\n            label: asset.name,\n        }));\n    }\n}\n/**\n * Any script or asset (images, css, etc).\n */\nclass AnyCalculator extends Calculator {\n    calculate() {\n        return this.assets\n            .filter((asset) => !asset.name.endsWith('.map'))\n            .map((asset) => ({\n            size: this.getAssetSize(asset),\n            label: asset.name,\n        }));\n    }\n}\n/**\n * Calculate the bytes given a string value.\n */\nfunction calculateBytes(input, baseline, factor = 1) {\n    const matches = input.match(/^\\s*(\\d+(?:\\.\\d+)?)\\s*(%|(?:[mM]|[kK]|[gG])?[bB])?\\s*$/);\n    if (!matches) {\n        return NaN;\n    }\n    const baselineBytes = (baseline && calculateBytes(baseline)) || 0;\n    let value = Number(matches[1]);\n    switch (matches[2] && matches[2].toLowerCase()) {\n        case '%':\n            value = (baselineBytes * value) / 100;\n            break;\n        case 'kb':\n            value *= 1024;\n            break;\n        case 'mb':\n            value *= 1024 * 1024;\n            break;\n        case 'gb':\n            value *= 1024 * 1024 * 1024;\n            break;\n    }\n    if (baselineBytes === 0) {\n        return value;\n    }\n    return baselineBytes + value * factor;\n}\nfunction* checkBudgets(budgets, webpackStats) {\n    // Ignore AnyComponentStyle budgets as these are handled in `AnyComponentStyleBudgetChecker`.\n    const computableBudgets = budgets.filter((budget) => budget.type !== schema_1.Type.AnyComponentStyle);\n    for (const budget of computableBudgets) {\n        const sizes = calculateSizes(budget, webpackStats);\n        for (const { size, label } of sizes) {\n            yield* checkThresholds(calculateThresholds(budget), size, label);\n        }\n    }\n}\nexports.checkBudgets = checkBudgets;\nfunction* checkThresholds(thresholds, size, label) {\n    for (const threshold of thresholds) {\n        switch (threshold.type) {\n            case ThresholdType.Max: {\n                if (size <= threshold.limit) {\n                    continue;\n                }\n                const sizeDifference = (0, stats_1.formatSize)(size - threshold.limit);\n                yield {\n                    severity: threshold.severity,\n                    label,\n                    message: `${label} exceeded maximum budget. Budget ${(0, stats_1.formatSize)(threshold.limit)} was not met by ${sizeDifference} with a total of ${(0, stats_1.formatSize)(size)}.`,\n                };\n                break;\n            }\n            case ThresholdType.Min: {\n                if (size >= threshold.limit) {\n                    continue;\n                }\n                const sizeDifference = (0, stats_1.formatSize)(threshold.limit - size);\n                yield {\n                    severity: threshold.severity,\n                    label,\n                    message: `${label} failed to meet minimum budget. Budget ${(0, stats_1.formatSize)(threshold.limit)} was not met by ${sizeDifference} with a total of ${(0, stats_1.formatSize)(size)}.`,\n                };\n                break;\n            }\n            default: {\n                throw new Error(`Unexpected threshold type: ${ThresholdType[threshold.type]}`);\n            }\n        }\n    }\n}\nexports.checkThresholds = checkThresholds;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}