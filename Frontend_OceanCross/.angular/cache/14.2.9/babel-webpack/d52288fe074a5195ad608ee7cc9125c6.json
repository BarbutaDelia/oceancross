{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nvar _asyncToGenerator = require(\"/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar _asyncIterator = require(\"/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@babel/runtime/helpers/asyncIterator.js\").default;\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.i18nInlineEmittedFiles = void 0;\n\nconst fs = __importStar(require(\"fs\"));\n\nconst path = __importStar(require(\"path\"));\n\nconst action_executor_1 = require(\"./action-executor\");\n\nconst copy_assets_1 = require(\"./copy-assets\");\n\nconst error_1 = require(\"./error\");\n\nconst spinner_1 = require(\"./spinner\");\n\nfunction emittedFilesToInlineOptions(emittedFiles, scriptsEntryPointName, emittedPath, outputPath, es5, missingTranslation, context) {\n  const options = [];\n  const originalFiles = [];\n\n  for (const emittedFile of emittedFiles) {\n    if (emittedFile.asset || emittedFile.extension !== '.js' || emittedFile.name && scriptsEntryPointName.includes(emittedFile.name)) {\n      continue;\n    }\n\n    const originalPath = path.join(emittedPath, emittedFile.file);\n    const action = {\n      filename: emittedFile.file,\n      code: fs.readFileSync(originalPath, 'utf8'),\n      es5,\n      outputPath,\n      missingTranslation,\n      setLocale: emittedFile.name === 'main' || emittedFile.name === 'vendor'\n    };\n    originalFiles.push(originalPath);\n\n    try {\n      const originalMapPath = originalPath + '.map';\n      action.map = fs.readFileSync(originalMapPath, 'utf8');\n      originalFiles.push(originalMapPath);\n    } catch (err) {\n      (0, error_1.assertIsError)(err);\n\n      if (err.code !== 'ENOENT') {\n        throw err;\n      }\n    }\n\n    context.logger.debug(`i18n file queued for processing: ${action.filename}`);\n    options.push(action);\n  }\n\n  return {\n    options,\n    originalFiles\n  };\n}\n\nfunction i18nInlineEmittedFiles(_x, _x2, _x3, _x4, _x5, _x6, _x7, _x8, _x9) {\n  return _i18nInlineEmittedFiles.apply(this, arguments);\n}\n\nfunction _i18nInlineEmittedFiles() {\n  _i18nInlineEmittedFiles = _asyncToGenerator(function* (context, emittedFiles, i18n, baseOutputPath, outputPaths, scriptsEntryPointName, emittedPath, es5, missingTranslation) {\n    const executor = new action_executor_1.BundleActionExecutor({\n      i18n\n    });\n    let hasErrors = false;\n    const spinner = new spinner_1.Spinner();\n    spinner.start('Generating localized bundles...');\n\n    try {\n      const {\n        options,\n        originalFiles: processedFiles\n      } = emittedFilesToInlineOptions(emittedFiles, scriptsEntryPointName, emittedPath, baseOutputPath, es5, missingTranslation, context);\n      var _iteratorAbruptCompletion = false;\n      var _didIteratorError = false;\n\n      var _iteratorError;\n\n      try {\n        for (var _iterator = _asyncIterator(executor.inlineAll(options)), _step; _iteratorAbruptCompletion = !(_step = yield _iterator.next()).done; _iteratorAbruptCompletion = false) {\n          const result = _step.value;\n          context.logger.debug(`i18n file processed: ${result.file}`);\n\n          for (const diagnostic of result.diagnostics) {\n            spinner.stop();\n\n            if (diagnostic.type === 'error') {\n              hasErrors = true;\n              context.logger.error(diagnostic.message);\n            } else {\n              context.logger.warn(diagnostic.message);\n            }\n\n            spinner.start();\n          }\n        } // Copy any non-processed files into the output locations\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (_iteratorAbruptCompletion && _iterator.return != null) {\n            yield _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      yield (0, copy_assets_1.copyAssets)([{\n        glob: '**/*',\n        input: emittedPath,\n        output: '',\n        ignore: [...processedFiles].map(f => path.relative(emittedPath, f))\n      }], outputPaths, '');\n    } catch (err) {\n      (0, error_1.assertIsError)(err);\n      spinner.fail('Localized bundle generation failed: ' + err.message);\n      return false;\n    } finally {\n      executor.stop();\n    }\n\n    if (hasErrors) {\n      spinner.fail('Localized bundle generation failed.');\n    } else {\n      spinner.succeed('Localized bundle generation complete.');\n    }\n\n    return !hasErrors;\n  });\n  return _i18nInlineEmittedFiles.apply(this, arguments);\n}\n\nexports.i18nInlineEmittedFiles = i18nInlineEmittedFiles;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","i18nInlineEmittedFiles","fs","require","path","action_executor_1","copy_assets_1","error_1","spinner_1","emittedFilesToInlineOptions","emittedFiles","scriptsEntryPointName","emittedPath","outputPath","es5","missingTranslation","context","options","originalFiles","emittedFile","asset","extension","name","includes","originalPath","join","file","action","filename","code","readFileSync","setLocale","push","originalMapPath","map","err","assertIsError","logger","debug","i18n","baseOutputPath","outputPaths","executor","BundleActionExecutor","hasErrors","spinner","Spinner","start","processedFiles","inlineAll","diagnostic","diagnostics","stop","type","error","message","warn","copyAssets","glob","input","output","ignore","f","relative","fail","succeed"],"sources":["/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/@angular-devkit/build-angular/src/utils/i18n-inlining.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.i18nInlineEmittedFiles = void 0;\nconst fs = __importStar(require(\"fs\"));\nconst path = __importStar(require(\"path\"));\nconst action_executor_1 = require(\"./action-executor\");\nconst copy_assets_1 = require(\"./copy-assets\");\nconst error_1 = require(\"./error\");\nconst spinner_1 = require(\"./spinner\");\nfunction emittedFilesToInlineOptions(emittedFiles, scriptsEntryPointName, emittedPath, outputPath, es5, missingTranslation, context) {\n    const options = [];\n    const originalFiles = [];\n    for (const emittedFile of emittedFiles) {\n        if (emittedFile.asset ||\n            emittedFile.extension !== '.js' ||\n            (emittedFile.name && scriptsEntryPointName.includes(emittedFile.name))) {\n            continue;\n        }\n        const originalPath = path.join(emittedPath, emittedFile.file);\n        const action = {\n            filename: emittedFile.file,\n            code: fs.readFileSync(originalPath, 'utf8'),\n            es5,\n            outputPath,\n            missingTranslation,\n            setLocale: emittedFile.name === 'main' || emittedFile.name === 'vendor',\n        };\n        originalFiles.push(originalPath);\n        try {\n            const originalMapPath = originalPath + '.map';\n            action.map = fs.readFileSync(originalMapPath, 'utf8');\n            originalFiles.push(originalMapPath);\n        }\n        catch (err) {\n            (0, error_1.assertIsError)(err);\n            if (err.code !== 'ENOENT') {\n                throw err;\n            }\n        }\n        context.logger.debug(`i18n file queued for processing: ${action.filename}`);\n        options.push(action);\n    }\n    return { options, originalFiles };\n}\nasync function i18nInlineEmittedFiles(context, emittedFiles, i18n, baseOutputPath, outputPaths, scriptsEntryPointName, emittedPath, es5, missingTranslation) {\n    const executor = new action_executor_1.BundleActionExecutor({ i18n });\n    let hasErrors = false;\n    const spinner = new spinner_1.Spinner();\n    spinner.start('Generating localized bundles...');\n    try {\n        const { options, originalFiles: processedFiles } = emittedFilesToInlineOptions(emittedFiles, scriptsEntryPointName, emittedPath, baseOutputPath, es5, missingTranslation, context);\n        for await (const result of executor.inlineAll(options)) {\n            context.logger.debug(`i18n file processed: ${result.file}`);\n            for (const diagnostic of result.diagnostics) {\n                spinner.stop();\n                if (diagnostic.type === 'error') {\n                    hasErrors = true;\n                    context.logger.error(diagnostic.message);\n                }\n                else {\n                    context.logger.warn(diagnostic.message);\n                }\n                spinner.start();\n            }\n        }\n        // Copy any non-processed files into the output locations\n        await (0, copy_assets_1.copyAssets)([\n            {\n                glob: '**/*',\n                input: emittedPath,\n                output: '',\n                ignore: [...processedFiles].map((f) => path.relative(emittedPath, f)),\n            },\n        ], outputPaths, '');\n    }\n    catch (err) {\n        (0, error_1.assertIsError)(err);\n        spinner.fail('Localized bundle generation failed: ' + err.message);\n        return false;\n    }\n    finally {\n        executor.stop();\n    }\n    if (hasErrors) {\n        spinner.fail('Localized bundle generation failed.');\n    }\n    else {\n        spinner.succeed('Localized bundle generation complete.');\n    }\n    return !hasErrors;\n}\nexports.i18nInlineEmittedFiles = i18nInlineEmittedFiles;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}