{"ast":null,"code":"const debug = require('debug')('log4js:noLogFilter');\n/**\n * The function removes empty or null regexp from the array\n * @param {string[]} regexp\n * @returns {string[]} a filtered string array with not empty or null regexp\n */\n\n\nfunction removeNullOrEmptyRegexp(regexp) {\n  const filtered = regexp.filter(el => el != null && el !== '');\n  return filtered;\n}\n/**\n * Returns a function that will exclude the events in case they match\n * with the regular expressions provided\n * @param {(string|string[])} filters contains the regexp that will be used for the evaluation\n * @param {*} appender\n * @returns {function}\n */\n\n\nfunction noLogFilter(filters, appender) {\n  return logEvent => {\n    debug(`Checking data: ${logEvent.data} against filters: ${filters}`);\n\n    if (typeof filters === 'string') {\n      filters = [filters];\n    }\n\n    filters = removeNullOrEmptyRegexp(filters);\n    const regex = new RegExp(filters.join('|'), 'i');\n\n    if (filters.length === 0 || logEvent.data.findIndex(value => regex.test(value)) < 0) {\n      debug('Not excluded, sending to appender');\n      appender(logEvent);\n    }\n  };\n}\n\nfunction configure(config, layouts, findAppender) {\n  const appender = findAppender(config.appender);\n  return noLogFilter(config.exclude, appender);\n}\n\nmodule.exports.configure = configure;","map":{"version":3,"names":["debug","require","removeNullOrEmptyRegexp","regexp","filtered","filter","el","noLogFilter","filters","appender","logEvent","data","regex","RegExp","join","length","findIndex","value","test","configure","config","layouts","findAppender","exclude","module","exports"],"sources":["/Users/deliabarbuta/Documents/An4Sem1/PAW/Proiect/proiect-paw-tadam/Frontend_OceanCross/node_modules/log4js/lib/appenders/noLogFilter.js"],"sourcesContent":["const debug = require('debug')('log4js:noLogFilter');\n\n/**\n * The function removes empty or null regexp from the array\n * @param {string[]} regexp\n * @returns {string[]} a filtered string array with not empty or null regexp\n */\nfunction removeNullOrEmptyRegexp(regexp) {\n  const filtered = regexp.filter((el) => el != null && el !== '');\n  return filtered;\n}\n\n/**\n * Returns a function that will exclude the events in case they match\n * with the regular expressions provided\n * @param {(string|string[])} filters contains the regexp that will be used for the evaluation\n * @param {*} appender\n * @returns {function}\n */\nfunction noLogFilter(filters, appender) {\n  return (logEvent) => {\n    debug(`Checking data: ${logEvent.data} against filters: ${filters}`);\n    if (typeof filters === 'string') {\n      filters = [filters];\n    }\n    filters = removeNullOrEmptyRegexp(filters);\n    const regex = new RegExp(filters.join('|'), 'i');\n    if (\n      filters.length === 0 ||\n      logEvent.data.findIndex((value) => regex.test(value)) < 0\n    ) {\n      debug('Not excluded, sending to appender');\n      appender(logEvent);\n    }\n  };\n}\n\nfunction configure(config, layouts, findAppender) {\n  const appender = findAppender(config.appender);\n  return noLogFilter(config.exclude, appender);\n}\n\nmodule.exports.configure = configure;\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiB,oBAAjB,CAAd;AAEA;AACA;AACA;AACA;AACA;;;AACA,SAASC,uBAAT,CAAiCC,MAAjC,EAAyC;EACvC,MAAMC,QAAQ,GAAGD,MAAM,CAACE,MAAP,CAAeC,EAAD,IAAQA,EAAE,IAAI,IAAN,IAAcA,EAAE,KAAK,EAA3C,CAAjB;EACA,OAAOF,QAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASG,WAAT,CAAqBC,OAArB,EAA8BC,QAA9B,EAAwC;EACtC,OAAQC,QAAD,IAAc;IACnBV,KAAK,CAAE,kBAAiBU,QAAQ,CAACC,IAAK,qBAAoBH,OAAQ,EAA7D,CAAL;;IACA,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;MAC/BA,OAAO,GAAG,CAACA,OAAD,CAAV;IACD;;IACDA,OAAO,GAAGN,uBAAuB,CAACM,OAAD,CAAjC;IACA,MAAMI,KAAK,GAAG,IAAIC,MAAJ,CAAWL,OAAO,CAACM,IAAR,CAAa,GAAb,CAAX,EAA8B,GAA9B,CAAd;;IACA,IACEN,OAAO,CAACO,MAAR,KAAmB,CAAnB,IACAL,QAAQ,CAACC,IAAT,CAAcK,SAAd,CAAyBC,KAAD,IAAWL,KAAK,CAACM,IAAN,CAAWD,KAAX,CAAnC,IAAwD,CAF1D,EAGE;MACAjB,KAAK,CAAC,mCAAD,CAAL;MACAS,QAAQ,CAACC,QAAD,CAAR;IACD;EACF,CAdD;AAeD;;AAED,SAASS,SAAT,CAAmBC,MAAnB,EAA2BC,OAA3B,EAAoCC,YAApC,EAAkD;EAChD,MAAMb,QAAQ,GAAGa,YAAY,CAACF,MAAM,CAACX,QAAR,CAA7B;EACA,OAAOF,WAAW,CAACa,MAAM,CAACG,OAAR,EAAiBd,QAAjB,CAAlB;AACD;;AAEDe,MAAM,CAACC,OAAP,CAAeN,SAAf,GAA2BA,SAA3B"},"metadata":{},"sourceType":"script"}